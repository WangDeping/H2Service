
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@section subheader_title{
    病案首页质控
}

<div class=" row">
    <div class="col-lg-12">
        <div class="m-portlet">
            <div class="m-portlet__head">
                <div class="m-portlet__head-caption">
                    <div class="m-portlet__head-title">
                        <span class="m-portlet__head-icon m--hide">
                            <i class="la la-gear"></i>
                        </span>
                        <h3 class="m-portlet__head-text">
                           消息列表
                        </h3>
                    </div>
                </div>
            </div>

            <div class="m-portlet__body">              

                <table class="bootstrap-table" id="messages_grid" data-url='@Url.Action("MessageGrid")'
                       data-side-pagination="server" data-page-list="[10]" data-pagination="true"
                       data-id-field="Id" data-unique-id="Id" data-single-select="true" data-striped="true">
                    <thead>
                        <tr>
                            <th data-field="Dep" data-align="center" data-width="120px">科室</th>
                            <th data-field="BAH" data-align="center" data-width="100px">住院号</th>
                            <th data-field="DischargeDate" data-align="center" data-width="120px">出院时间</th>
                            <th data-field="SendTime" data-align="center" data-width="160px">发送时间</th>
                            <th data-field="ValidateType" data-align="center" data-width="100px">消息类型</th>
                            <th data-field="Message" data-align="center">原因</th>         
                        </tr>
                    </thead>
                </table>


            </div>

        </div>
    </div>

</div>

<script>
    $('#messages_grid').bootstrapTable({
        queryParams: function (params) {
            return {
                MaxResultCount: params.limit,
                PageNumber: (params.offset / params.limit)
            }
        }
    })
</script>