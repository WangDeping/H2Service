
@{
    ViewBag.Title = "EventIndex";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@section subheader_title{
    机房管理
}
<div class=" row">
    <div class="col-lg-12">
        <div class="m-portlet">
            <div class="m-portlet__head">
                <div class="m-portlet__head-caption">
                    <div class="m-portlet__head-title">
                        <span class="m-portlet__head-icon m--hide">
                            <i class="la la-gear"></i>
                        </span>
                        <h3 class="m-portlet__head-text">
                            机房巡视
                        </h3>
                    </div>
                </div>
            </div>

            <div class="m-portlet__body">
                <!--搜索框-->
                <!-- <div class="m-form m-form--label-align-right  m--margin-bottom-30">
                         <div class="row align-items-center">
                             <div class="col-xl-8 order-2 order-xl-1">
                                 <div class="form-group m-form__group row align-items-center">
                                     <div class="col-md-6">
                                         <div class="m-form__group m-form__group--inline col-12">
                                             <div class="m-form__label col-2">
                                                 <label>
                                                     机房:
                                                 </label>
                                             </div>
                                             <div class="m-form__control ">
                                                 @Html.Action("ServerRoomList")
                                             </div>
                                         </div>
                                         <div class="d-md-none m--margin-bottom-10"></div>
                                     </div>
                                     <div class="col-md-6">
                                         <div class="m-form__group m-form__group--inline col-12">
                                             <div class="m-form__label col-2">
                                                 <label class="m-label m-label--single ">
                                                     日期:
                                                 </label>
                                             </div>
                                             <div class="m-form__control">
                                                 <input  class="form-control" id="daterangepicker" readonly placeholder="选择日期区间" type="text" />
                                             </div>
                                         </div>
                                         <div class="d-md-none m--margin-bottom-10"></div>
                                     </div>

                                 </div>
                             </div>
                             <div class="col-xl-4 order-1 order-xl-2 m--align-right">
                                 <a href="#" class="btn btn-success m-btn m-btn--custom m-btn--icon m-btn--air m-btn--pill">
                                     <span>
                                         <i class="la la-search"></i>
                                         <span>
                                             查询
                                         </span>
                                     </span>
                                 </a>
                                 <div class="m-separator m-separator--dashed d-xl-none"></div>
                             </div>
                         </div>
                     </div>
                    -->
                <!--搜索框-->

                <table class="bootstrap-table" id="events_grid" data-url='@Url.Action("PatrolList")'
                       data-side-pagination="server" data-page-list="[10]" data-pagination="true"
                       data-id-field="Id" data-unique-id="Id" data-single-select="true" data-striped="true">
                    <thead>
                        <tr>
                            <th data-field="ServerRoomName" data-align="center">机房名称</th>
                            <th data-field="EmergencyType" data-align="center">事件类型</th>
                            <th data-field="SEName" data-align="center">服务器/设备</th>
                            <th data-field="Solutions" data-align="center">处理过程</th>
                            <th data-field="Solutions" data-align="center">处理时间</th>
                            <th data-field="Solutions" data-align="center">处理人</th>
                            <th data-field="Solutions" data-align="center"></th>
                        </tr>
                    </thead>
                </table>


            </div>

        </div>
    </div>

    <!--PicModal-->
    <div class="modal fade " id="picModal" tabindex="-1" role="dialog">
        <div class="modal-dialog " role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">
                        机房查房图片
                    </h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">
                            &times;
                        </span>
                    </button>
                </div>
                <div class="modal-body ">
                    <div class="row" id="thumbnail_container">

                    </div>

                    <div class="row">
                        <div class="alert alert-success form-control" id="summary" role="alert"></div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">
                        Close
                    </button>
                </div>
            </div>
        </div>
    </div>
    <!--PicModal-->

</div>

<script>
        
        $('#events_grid').bootstrapTable({
            queryParams: function (params) {
                return {
                    roomId:0,
                    MaxResultCount: params.limit,
                    PageNumber: params.offset
                }
            }
        })

    
</script>

